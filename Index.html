<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>The World of Today</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React + ReactDOM (UMD) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <!-- Babel so we can write JSX directly -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="bg-slate-900">
    <div id="root"></div>

    <script type="text/babel" data-presets="env,react">
      const { useState } = React;

      const countryData = {
        usa: {
          name: "United States",
          flag: "üá∫üá∏",
          leader: "Joe Biden",
          title: "President",
          government: "Federal Presidential Republic",
          capital: "Washington, D.C.",
          population: "331 million",
          agencies: ["CIA", "FBI", "NSA", "State Department", "Treasury"],
          facts: [
            "Bicameral legislature: Senate (100) and House (435)",
            "Supreme Court with 9 justices",
            "50 states with significant autonomy",
            "Two-party dominant system",
          ],
          recentEvents: "2024 Presidential election concluded with multiple policy shifts",
        },
        uk: {
          name: "United Kingdom",
          flag: "üá¨üáß",
          leader: "Keir Starmer",
          title: "Prime Minister",
          government: "Parliamentary Constitutional Monarchy",
          capital: "London",
          population: "67 million",
          agencies: ["MI6", "MI5", "GCHQ", "Foreign Office", "Home Office"],
          facts: [
            "Uncodified constitution based on conventions",
            "House of Commons (650 MPs) and House of Lords",
            "Constitutional monarchy with King Charles III",
            "Westminster system model for many countries",
          ],
          recentEvents: "Labour Party returned to power in 2024 elections",
        },
        france: {
          name: "France",
          flag: "üá´üá∑",
          leader: "Emmanuel Macron",
          title: "President",
          government: "Semi-Presidential Republic",
          capital: "Paris",
          population: "67 million",
          agencies: ["DGSE", "DGSI", "Quai d'Orsay", "√âlys√©e Palace"],
          facts: [
            "Dual executive: President and Prime Minister",
            "National Assembly (577) and Senate (348)",
            "Strong centralized state structure",
            "Influential in EU policy making",
          ],
          recentEvents: "Political tensions following snap elections in 2024",
        },
        germany: {
          name: "Germany",
          flag: "üá©üá™",
          leader: "Olaf Scholz",
          title: "Chancellor",
          government: "Federal Parliamentary Republic",
          capital: "Berlin",
          population: "83 million",
          agencies: ["BND", "Federal Police", "Foreign Office"],
          facts: [
            "Bundestag (lower house) and Bundesrat (states)",
            "Strong federal system with 16 states",
            "Coalition governments are the norm",
            "Economic powerhouse of the EU",
          ],
          recentEvents: "Coalition government navigating energy and economic challenges",
        },
        spain: {
          name: "Spain",
          flag: "üá™üá∏",
          leader: "Pedro S√°nchez",
          title: "Prime Minister",
          government: "Parliamentary Constitutional Monarchy",
          capital: "Madrid",
          population: "47 million",
          agencies: ["CNI", "National Police", "Guardia Civil"],
          facts: [
            "17 autonomous communities with varying powers",
            "Congress of Deputies (350) and Senate (266)",
            "Constitutional monarchy with King Felipe VI",
            "Complex territorial politics with Catalonia",
          ],
          recentEvents: "Coalition government with regional nationalist parties",
        },
        china: {
          name: "China",
          flag: "üá®üá≥",
          leader: "Xi Jinping",
          title: "President & General Secretary",
          government: "One-Party Socialist Republic",
          capital: "Beijing",
          population: "1.4 billion",
          agencies: ["MSS", "PLA", "State Council", "NDRC"],
          facts: [
            "Chinese Communist Party holds supreme authority",
            "National People's Congress (nearly 3,000 delegates)",
            "President serves as head of state and military",
            "Central control with provincial administration",
          ],
          recentEvents: "Economic reforms amid global trade tensions",
        },
        russia: {
          name: "Russia",
          flag: "üá∑üá∫",
          leader: "Vladimir Putin",
          title: "President",
          government: "Federal Semi-Presidential Republic",
          capital: "Moscow",
          population: "144 million",
          agencies: ["FSB", "SVR", "GRU", "Presidential Administration"],
          facts: [
            "State Duma (450) and Federation Council (170)",
            "Strong presidential system with limited checks",
            "85 federal subjects with varying autonomy",
            "Dominant party system under United Russia",
          ],
          recentEvents: "Ongoing conflict in Ukraine reshaping global relations",
        },
        india: {
          name: "India",
          flag: "üáÆüá≥",
          leader: "Narendra Modi",
          title: "Prime Minister",
          government: "Federal Parliamentary Republic",
          capital: "New Delhi",
          population: "1.4 billion",
          agencies: ["RAW", "IB", "CBI", "Ministry of External Affairs"],
          facts: [
            "Lok Sabha (543) and Rajya Sabha (245)",
            "Federal structure with 28 states and 8 union territories",
            "World's largest democracy by population",
            "Coalition politics common at national level",
          ],
          recentEvents: "BJP maintains strong electoral performance",
        },
        japan: {
          name: "Japan",
          flag: "üáØüáµ",
          leader: "Shigeru Ishiba",
          title: "Prime Minister",
          government: "Parliamentary Constitutional Monarchy",
          capital: "Tokyo",
          population: "125 million",
          agencies: ["PSIA", "MOFA", "Cabinet Office"],
          facts: [
            "House of Representatives (465) and House of Councillors (248)",
            "Constitutional monarchy with Emperor",
            "Dominant party system historically under LDP",
            "Pacifist constitution (Article 9)",
          ],
          recentEvents: "Political shifts following recent leadership changes",
        },
        brazil: {
          name: "Brazil",
          flag: "üáßüá∑",
          leader: "Luiz In√°cio Lula da Silva",
          title: "President",
          government: "Federal Presidential Republic",
          capital: "Bras√≠lia",
          population: "215 million",
          agencies: ["ABIN", "Federal Police", "Itamaraty"],
          facts: [
            "Chamber of Deputies (513) and Federal Senate (81)",
            "26 states plus Federal District",
            "Multi-party system with coalition governments",
            "Largest economy in Latin America",
          ],
          recentEvents: "Lula's return to presidency with progressive agenda",
        },
      };

      const challenges = [
        { id: 1, question: "Who is the current Prime Minister of the United Kingdom?", answer: "Keir Starmer", country: "uk" },
        { id: 2, question: "What type of government does France have?", answer: "Semi-Presidential Republic", country: "france" },
        { id: 3, question: "What is the capital of Brazil?", answer: "Bras√≠lia", country: "brazil" },
        { id: 4, question: "How many states does Germany have?", answer: "16", country: "germany" },
        { id: 5, question: "Who is the current leader of India?", answer: "Narendra Modi", country: "india" }
      ];

      function WorldTodayApp() {
        const [activeTab, setActiveTab] = useState('map');
        const [selectedCountry, setSelectedCountry] = useState(null);
        const [currentChallenge, setCurrentChallenge] = useState(0);
        const [userAnswer, setUserAnswer] = useState('');
        const [challengeResult, setChallengeResult] = useState(null);
        const [score, setScore] = useState(0);
        const [email, setEmail] = useState('');
        const [subscribed, setSubscribed] = useState(false);

        const [forumPosts] = useState([
          { id: 1, author: "GeoPoliticsNerd", country: "üá∫üá∏ USA", topic: "Understanding the US electoral system", replies: 12, likes: 45 },
          { id: 2, author: "EuroExpert", country: "üá™üá∫ EU", topic: "How does the European Parliament work?", replies: 8, likes: 23 },
          { id: 3, author: "StudentIR", country: "üá™üá∏ Spain", topic: "Autonomous communities vs federal states?", replies: 15, likes: 67 }
        ]);

        const handleChallengeSubmit = () => {
          const challenge = challenges[currentChallenge];
          const isCorrect = userAnswer.toLowerCase().trim() === challenge.answer.toLowerCase().trim();

          setChallengeResult(isCorrect);
          if (isCorrect) {
            setScore(prev => prev + 10);
          }

          setTimeout(() => {
            if (currentChallenge < challenges.length - 1) {
              setCurrentChallenge(prev => prev + 1);
            } else {
              setCurrentChallenge(0);
            }
            setUserAnswer('');
            setChallengeResult(null);
          }, 2000);
        };

        const handleNewsletterSignup = () => {
          if (email) {
            setSubscribed(true);
            setTimeout(() => setSubscribed(false), 3000);
          }
        };

        const tabs = [
          { id: 'map', label: 'World Map', icon: 'üó∫Ô∏è' },
          { id: 'challenges', label: 'Daily Challenge', icon: 'üèÖ' },
          { id: 'forum', label: 'Forum', icon: 'üí¨' },
          { id: 'newsletter', label: 'Newsletter', icon: 'üìß' }
        ];

        return (
          <div className="min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 text-white">
            {/* Header */}
            <header className="bg-black bg-opacity-30 backdrop-blur-md border-b border-white border-opacity-20 p-4">
              <div className="max-w-7xl mx-auto flex items-center justify-between">
                <div className="flex items-center gap-3">
                  <span className="text-3xl">üåç</span>
                  <h1 className="text-2xl font-bold">The World of Today</h1>
                </div>
                <div className="flex items-center gap-2 bg-blue-600 px-4 py-2 rounded-full">
                  <span className="text-xl">üèÜ</span>
                  <span className="font-semibold">{score} points</span>
                </div>
              </div>
            </header>

            {/* Navigation */}
            <nav className="bg-black bg-opacity-20 backdrop-blur-sm border-b border-white border-opacity-10">
              <div className="max-w-7xl mx-auto flex gap-1 p-2 flex-wrap">
                {tabs.map(tab => (
                  <button
                    key={tab.id}
                    onClick={() => setActiveTab(tab.id)}
                    className={
                      "flex items-center gap-2 px-4 py-2 rounded-lg transition-all " +
                      (activeTab === tab.id
                        ? "bg-blue-500 text-white"
                        : "text-blue-200 hover:bg-white hover:bg-opacity-10")
                    }
                  >
                    <span>{tab.icon}</span>
                    {tab.label}
                  </button>
                ))}
              </div>
            </nav>

            {/* Main Content */}
            <main className="max-w-7xl mx-auto p-4 md:p-6">
              {/* World Map Tab */}
              {activeTab === 'map' && (
                <div className="space-y-6">
                  <div className="bg-white bg-opacity-10 backdrop-blur-md rounded-xl p-6 border border-white border-opacity-20">
                    <h2 className="text-2xl font-bold mb-4 flex items-center gap-2">
                      <span className="text-2xl">üìç</span>
                      Select a Country
                    </h2>
                    <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3">
                      {Object.entries(countryData).map(([key, country]) => (
                        <button
                          key={key}
                          onClick={() => setSelectedCountry(key)}
                          className="bg-blue-600 hover:bg-blue-500 p-4 rounded-lg transition-all transform hover:scale-105 flex flex-col items-center gap-2"
                        >
                          <span className="text-4xl">{country.flag}</span>
                          <span className="text-sm font-semibold text-center">{country.name}</span>
                        </button>
                      ))}
                    </div>
                  </div>

                  {/* Country Details */}
                  {selectedCountry && (
                    <div className="bg-white bg-opacity-10 backdrop-blur-md rounded-xl p-6 border border-white border-opacity-20">
                      <div className="flex items-start justify-between mb-4">
                        <div>
                          <h2 className="text-3xl font-bold flex items-center gap-3">
                            <span className="text-5xl">{countryData[selectedCountry].flag}</span>
                            {countryData[selectedCountry].name}
                          </h2>
                          <p className="text-blue-200 mt-1">{countryData[selectedCountry].government}</p>
                        </div>
                      </div>

                      <div className="grid md:grid-cols-2 gap-6">
                        <div className="space-y-4">
                          <div className="bg-blue-800 bg-opacity-50 p-4 rounded-lg">
                            <h3 className="font-semibold text-blue-200 mb-2">Current Leader</h3>
                            <p className="text-xl font-bold">{countryData[selectedCountry].leader}</p>
                            <p className="text-sm text-blue-200">{countryData[selectedCountry].title}</p>
                          </div>

                          <div className="bg-blue-800 bg-opacity-50 p-4 rounded-lg">
                            <h3 className="font-semibold text-blue-200 mb-2">Basic Info</h3>
                            <p><span className="text-blue-200">Capital:</span> {countryData[selectedCountry].capital}</p>
                            <p><span className="text-blue-200">Population:</span> {countryData[selectedCountry].population}</p>
                          </div>

                          <div className="bg-blue-800 bg-opacity-50 p-4 rounded-lg">
                            <h3 className="font-semibold text-blue-200 mb-2">Key Agencies</h3>
                            <div className="flex flex-wrap gap-2">
                              {countryData[selectedCountry].agencies.map(agency => (
                                <span key={agency} className="bg-blue-600 px-3 py-1 rounded-full text-sm">{agency}</span>
                              ))}
                            </div>
                          </div>
                        </div>

                        <div className="space-y-4">
                          <div className="bg-blue-800 bg-opacity-50 p-4 rounded-lg">
                            <h3 className="font-semibold text-blue-200 mb-2 flex items-center gap-2">
                              <span>üìñ</span>
                              Government Facts
                            </h3>
                            <ul className="space-y-2">
                              {countryData[selectedCountry].facts.map((fact, idx) => (
                                <li key={idx} className="text-sm flex items-start gap-2">
                                  <span className="text-blue-400">‚Ä¢</span>
                                  <span>{fact}</span>
                                </li>
                              ))}
                            </ul>
                          </div>

                          <div className="bg-blue-800 bg-opacity-50 p-4 rounded-lg">
                            <h3 className="font-semibold text-blue-200 mb-2 flex items-center gap-2">
                              <span>üìà</span>
                              Recent Events
                            </h3>
                            <p className="text-sm">{countryData[selectedCountry].recentEvents}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                </div>
              )}

              {/* Daily Challenge Tab */}
              {activeTab === 'challenges' && (
                <div className="bg-white bg-opacity-10 backdrop-blur-md rounded-xl p-8 border border-white border-opacity-20 max-w-2xl mx-auto">
                  <h2 className="text-3xl font-bold mb-6 flex items-center gap-3">
                    <span className="text-3xl">üèÖ</span>
                    Daily Challenge
                  </h2>

                  <div className="bg-blue-800 bg-opacity-50 p-6 rounded-lg mb-6">
                    <p className="text-sm text-blue-200 mb-2">Question {currentChallenge + 1} of {challenges.length}</p>
                    <p className="text-xl font-semibold mb-4">{challenges[currentChallenge].question}</p>

                    <input
                      type="text"
                      value={userAnswer}
                      onChange={(e) => setUserAnswer(e.target.value)}
                      onKeyDown={(e) => e.key === 'Enter' && handleChallengeSubmit()}
                      placeholder="Type your answer..."
                      className="w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:ring-2 focus:ring-blue-400 text-white placeholder-blue-200"
                    />

                    <button
                      onClick={handleChallengeSubmit}
                      className="w-full mt-4 bg-blue-500 hover:bg-blue-400 py-3 rounded-lg font-semibold transition-all"
                    >
                      Submit Answer
                    </button>

                    {challengeResult !== null && (
                      <div className={`mt-4 p-4 rounded-lg ${challengeResult ? 'bg-green-500' : 'bg-red-500'}`}>
                        {challengeResult ? (
                          <p className="font-semibold">‚úì Correct! +10 points</p>
                        ) : (
                          <p className="font-semibold">‚úó Incorrect. The answer was: {challenges[currentChallenge].answer}</p>
                        )}
                      </div>
                    )}
                  </div>

                  <div className="text-center text-blue-200">
                    <p className="text-sm">Complete all challenges to earn badges and climb the leaderboard!</p>
                  </div>
                </div>
              )}

              {/* Forum Tab */}
              {activeTab === 'forum' && (
                <div className="bg-white bg-opacity-10 backdrop-blur-md rounded-xl p-6 border border-white border-opacity-20">
                  <h2 className="text-3xl font-bold mb-6 flex items-center gap-3">
                    <span className="text-3xl">üí¨</span>
                    Community Forum
                  </h2>

                  <div className="space-y-4">
                    {forumPosts.map(post => (
                      <div
                        key={post.id}
                        className="bg-blue-800 bg-opacity-50 p-4 rounded-lg hover:bg-opacity-70 transition-all cursor-pointer"
                      >
                        <div className="flex items-start justify-between">
                          <div className="flex-1">
                            <div className="flex items-center gap-3 mb-2">
                              <span className="text-2xl">{post.country.split(' ')[0]}</span>
                              <span className="font-semibold text-blue-200">{post.author}</span>
                            </div>
                            <h3 className="text-lg font-semibold mb-2">{post.topic}</h3>
                            <div className="flex gap-4 text-sm text-blue-200">
                              <span className="flex items-center gap-1">üí¨ {post.replies} replies</span>
                              <span className="flex items-center gap-1">üë• {post.likes} likes</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>

                  <button className="w-full mt-6 bg-blue-500 hover:bg-blue-400 py-3 rounded-lg font-semibold transition-all">Start a New Discussion</button>
                </div>
              )}

              {/* Newsletter Tab */}
              {activeTab === 'newsletter' && (
                <div className="bg-white bg-opacity-10 backdrop-blur-md rounded-xl p-8 border border-white border-opacity-20 max-w-2xl mx-auto">
                  <h2 className="text-3xl font-bold mb-4 flex items-center gap-3">
                    <span className="text-3xl">üìß</span>
                    Daily World Brief
                  </h2>
                  <p className="text-blue-200 mb-6">Get the world's most important updates delivered to your inbox every morning. Concise, neutral, and always up-to-date.</p>

                  <div className="bg-blue-800 bg-opacity-50 p-6 rounded-lg mb-6">
                    <h3 className="font-semibold mb-3">What you'll get:</h3>
                    <ul className="space-y-2">
                      <li className="flex items-start gap-2"><span className="text-blue-400">‚úì</span><span>3 key world events explained simply</span></li>
                      <li className="flex items-start gap-2"><span className="text-blue-400">‚úì</span><span>Government changes and leadership updates</span></li>
                      <li className="flex items-start gap-2"><span className="text-blue-400">‚úì</span><span>Weekly deep dives on specific countries</span></li>
                      <li className="flex items-start gap-2"><span className="text-blue-400">‚úì</span><span>No spam, unsubscribe anytime</span></li>
                    </ul>
                  </div>

                  <input
                    type="email"
                    value={email}
                    onChange={(e) => setEmail(e.target.value)}
                    placeholder="Enter your email"
                    className="w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 focus:outline-none focus:ring-2 focus:ring-blue-400 text-white placeholder-blue-200 mb-4"
                  />

                  <button onClick={handleNewsletterSignup} className="w-full bg-blue-500 hover:bg-blue-400 py-3 rounded-lg font-semibold transition-all">Subscribe for Free</button>

                  {subscribed && (
                    <div className="mt-4 p-4 bg-green-500 rounded-lg"><p className="font-semibold">‚úì Successfully subscribed! Check your inbox.</p></div>
                  )}
                </div>
              )}
            </main>

            {/* Footer */}
            <footer className="bg-black bg-opacity-30 border-t border-white border-opacity-20 mt-12 p-6 text-center text-blue-200">
              <p className="text-sm">The World of Today ‚Ä¢ Learn about every government on Earth ‚Ä¢ Open Source ‚Ä¢ Made by students, for students</p>
            </footer>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<WorldTodayApp />);
    </script>
  </body>
</html>
